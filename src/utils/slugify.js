export function slugify(input) {
  if (!input) return '';
  const s = input.toString().trim().toLowerCase();
  const map = {
    '٠':'0','١':'1','٢':'2','٣':'3','٤':'4','٥':'5','٦':'6','٧':'7','٨':'8','٩':'9',
    '۰':'0','۱':'1','۲':'2','۳':'3','۴':'4','۵':'5','۶':'6','۷':'7','۸':'8','۹':'9',
    'ا':'a','أ':'a','إ':'e','آ':'a','ء':'','ؤ':'o','ئ':'','ع':'a',
    'ب':'b','پ':'p','ت':'t','ج':'j','چ':'ch','ح':'h','خ':'x','غ':'gh',
    'د':'d','ر':'r','ز':'z','ژ':'zh','س':'s','ش':'sh','ف':'f','ق':'q', 'ڤ':'v',
    'ک':'k','ك':'k','گ':'g','ل':'l','ڵ':'l','م':'m','ن':'n','ه':'h',
    'و':'w','ۆ':'o','ي':'y','ی':'y','ە':'e','ێ':'e',
    'ٔ':'','ً':'','ٌ':'','ٍ':'','َ':'','ُ':'','ِ':'','ّ':'','ـ':'',
    '‌':'','‏':'','،':'','٬':'','؛':'','؟':'','ٔ':''
  };
  let t = '';
  for (const ch of s) {
    t += map[ch] !== undefined ? map[ch] : ch;
  }
  t = t.normalize('NFKD').replace(/[\u0300-\u036f]/g, '');
  t = t.replace(/\s+/g, '-').replace(/_/g, '-');
  t = t.replace(/[^a-z0-9\-]+/g, '').replace(/--+/g, '-').replace(/^-+|-+$/g, '');
  return t;
}
